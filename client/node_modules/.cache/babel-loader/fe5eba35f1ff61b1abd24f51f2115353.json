{"ast":null,"code":"import { FILTER_BY_ACTIVITIES, FILTER_BY_CONTINENT, GET_COUNTRIES, ORDER_BY_NAME, SEARCH_COUNTRIES, ASCENDENTE, POST_ACTIVITIES, GET_ACTIVITIES, ORDER_BY_POPULATION, HIGHER_POPULATION, DETAIL, RESET } from '../04_const/Const';\nconst initialState = {\n  countries: [],\n  allCountries: [],\n  activities: [],\n  detail: []\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_COUNTRIES:\n      return { ...state,\n        countries: action.payload,\n        allCountries: action.payload\n      };\n\n    case FILTER_BY_CONTINENT:\n      const filtredCountriesByContinent = state.allCountries;\n      const continentFilteredBC = action.payload === 'All' ? filtredCountriesByContinent : filtredCountriesByContinent.filter(el => el.continent === action.payload);\n      return { ...state,\n        countries: continentFilteredBC\n      };\n\n    case FILTER_BY_ACTIVITIES:\n      const filtredCountriesByActivities = state.allCountries;\n      const continentFilteredBA = filtredCountriesByActivities.filter(c => {\n        return c.activities.find(c => {\n          return c.name === action.payload;\n        });\n      });\n\n      if (action.payload === 'todos') {\n        return { ...state,\n          countries: filtredCountriesByActivities\n        };\n      } else {\n        return { ...state,\n          countries: continentFilteredBA\n        };\n      }\n\n    case POST_ACTIVITIES:\n      return { ...state\n      };\n\n    case GET_ACTIVITIES:\n      return { ...state,\n        activities: action.payload\n      };\n\n    case DETAIL:\n      return { ...state,\n        detail: action.payload\n      };\n\n    case RESET:\n      return { ...state,\n        detail: []\n      };\n\n    case SEARCH_COUNTRIES:\n      return { ...state,\n        countries: action.payload\n      };\n\n    case ORDER_BY_NAME:\n      let orderCountriesByName = action.payload === ASCENDENTE ? state.countries.sort((a, b) => {\n        if (a.name < b.name) {\n          return -1;\n        }\n\n        if (a.name > b.name) {\n          return 1;\n        }\n\n        return 0;\n      }) : state.countries.sort((a, b) => {\n        if (a.name < b.name) {\n          return 1;\n        }\n\n        if (a.name > b.name) {\n          return -1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        countries: orderCountriesByName\n      };\n\n    case ORDER_BY_POPULATION:\n      let orderCountriesByPopulation = action.payload === HIGHER_POPULATION ? state.countries.sort((a, b) => {\n        if (a.population < b.population) {\n          return 1;\n        }\n\n        if (a.population > b.population) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.countries.sort((a, b) => {\n        if (a.population < b.population) {\n          return -1;\n        }\n\n        if (a.population > b.population) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        countries: orderCountriesByPopulation\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["FILTER_BY_ACTIVITIES","FILTER_BY_CONTINENT","GET_COUNTRIES","ORDER_BY_NAME","SEARCH_COUNTRIES","ASCENDENTE","POST_ACTIVITIES","GET_ACTIVITIES","ORDER_BY_POPULATION","HIGHER_POPULATION","DETAIL","RESET","initialState","countries","allCountries","activities","detail","rootReducer","state","action","type","payload","filtredCountriesByContinent","continentFilteredBC","filter","el","continent","filtredCountriesByActivities","continentFilteredBA","c","find","name","orderCountriesByName","sort","a","b","orderCountriesByPopulation","population"],"sources":["C:/Users/alexa/Desktop/PI Countries/PI-Countries-main/client/src/01_reducer/index.js"],"sourcesContent":["import { FILTER_BY_ACTIVITIES, FILTER_BY_CONTINENT, GET_COUNTRIES, ORDER_BY_NAME, SEARCH_COUNTRIES, ASCENDENTE, POST_ACTIVITIES, GET_ACTIVITIES, ORDER_BY_POPULATION, HIGHER_POPULATION, DETAIL, RESET } from '../04_const/Const'\r\n\r\nconst initialState = {\r\n    countries: [],\r\n    allCountries: [],\r\n    activities: [],\r\n    detail: []\r\n}\r\n\r\nexport default function rootReducer(state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case GET_COUNTRIES:\r\n            return {\r\n                ...state,\r\n                countries: action.payload,\r\n                allCountries: action.payload\r\n            }\r\n\r\n        case FILTER_BY_CONTINENT:\r\n            const filtredCountriesByContinent = state.allCountries\r\n            const continentFilteredBC = action.payload === 'All' ? filtredCountriesByContinent : filtredCountriesByContinent.filter(el => el.continent === action.payload)\r\n            return {\r\n                ...state,\r\n                countries: continentFilteredBC\r\n            }\r\n\r\n        case FILTER_BY_ACTIVITIES:\r\n            const filtredCountriesByActivities = state.allCountries\r\n            const continentFilteredBA = filtredCountriesByActivities.filter((c) => { return c.activities.find((c) => { return c.name === action.payload; }); });\r\n\r\n            if (action.payload === 'todos') {\r\n                return { ...state, countries: filtredCountriesByActivities }\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    countries: continentFilteredBA\r\n                }\r\n            }\r\n\r\n        case POST_ACTIVITIES:\r\n            return {\r\n                ...state\r\n            }\r\n\r\n        case GET_ACTIVITIES:\r\n            return {\r\n                ...state,\r\n                activities: action.payload\r\n            }\r\n\r\n        case DETAIL:\r\n            return {\r\n                ...state,\r\n                detail: action.payload\r\n            }\r\n\r\n        case RESET:\r\n            return {\r\n                ...state,\r\n                detail: []\r\n            }\r\n\r\n        case SEARCH_COUNTRIES:\r\n            return {\r\n                ...state,\r\n                countries: action.payload\r\n            }\r\n\r\n        case ORDER_BY_NAME:\r\n            let orderCountriesByName = action.payload === ASCENDENTE ? state.countries.sort((a, b) => {\r\n                if (a.name < b.name) {\r\n                    return -1;\r\n                }\r\n                if (a.name > b.name) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            }) :\r\n                state.countries.sort((a, b) => {\r\n                    if (a.name < b.name) {\r\n                        return 1;\r\n                    }\r\n                    if (a.name > b.name) {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                })\r\n\r\n            return {\r\n                ...state,\r\n                countries: orderCountriesByName\r\n            }\r\n\r\n        case ORDER_BY_POPULATION:\r\n            let orderCountriesByPopulation = action.payload === HIGHER_POPULATION ? state.countries.sort((a, b)=>{\r\n                if (a.population < b.population) {\r\n                    return 1;\r\n                }\r\n                if (a.population > b.population) {\r\n                    return -1;\r\n                }\r\n                return 0;\r\n            }) :\r\n                state.countries.sort((a, b) => {\r\n\r\n                    if (a.population < b.population) {\r\n                        return -1;\r\n                    }\r\n                    if (a.population > b.population) {\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                })\r\n\r\n            return {\r\n                ...state,\r\n                countries: orderCountriesByPopulation\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}